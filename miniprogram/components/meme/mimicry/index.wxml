<view class="form-section fade-in">
    <view class="dual-upload">
      <!-- Upload Main -->
      <view class="upload-card">
        <view class="upload-box small {{image ? 'has-image' : ''}}" bindtap="handleImageUpload" data-target="main">
            <image wx:if="{{image}}" src="{{image}}" mode="aspectFit" class="uploaded-img"></image>
            <view wx:else class="upload-placeholder">
                <view class="icon-circle bounce"><text class="emoji">🐱</text></view>
                <text class="up-text">主角喵</text>
            </view>
        </view>
      </view>
      
      <!-- Upload Ref -->
      <view class="upload-card">
        <view class="upload-box small ref {{refImage ? 'has-image' : ''}}" bindtap="handleImageUpload" data-target="ref">
            <image wx:if="{{refImage}}" src="{{refImage}}" mode="aspectFit" class="uploaded-img"></image>
            <view wx:else class="upload-placeholder">
                <view class="icon-circle blue bounce delay"><text class="emoji">🤩</text></view>
                <text class="up-text">表情参考</text>
            </view>
        </view>
      </view>
    </view>
    <view class="notice-box">
      <text>💡 小贴士：让猫猫模仿右边的表情哦 \n ( •̀ ω •́ )y</text>
    </view>
    
    <!-- Result -->
    <view wx:if="{{generatedImage}}" class="result-area fade-up" style="margin-top: 40rpx;">
       <view class="result-card">
          <view class="result-header">🎉 生成成功啦！</view>
          <view class="result-display">
             <image src="{{generatedImage}}" mode="widthFix" class="result-img"></image>
          </view>
          
          <view class="result-actions">
            <button class="action-btn secondary" bindtap="reset">
                <text>↺ 再来一张</text>
            </button>
            <button class="action-btn primary" bindtap="saveImage">
                <text>💾 保存美照</text>
            </button>
          </view>
       </view>
    </view>
</view>
